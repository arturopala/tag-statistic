“Tag Stats” application reading and parsing multiple text files and finding the Top 10 frequently occurring words (tags). 
The application maintain a real time in memory version of the Top 10 Tag list. 
The user can query the real time version of the list thorough a socket connection.

1. Usage:

java -cp tagstats.jar org.encalmo.tagstats.TagStatsApp -p {port} -d {base directory} [-t {threads}]

2. Options:

-p Telnet port number on which the application would serve real time tag query requests.
-d Relative or absolute path to base directory to scan for text files.
-t (optional) Number of parallel threads dedicated to parsing files

3. Features:

The application processes multiple files at the same time.
Tags are composed by a mix of letters and numbers and dash “-“. (Eg: 12313, abc123, 66-route, 66route,).
Tags can also be numbers or a mix of letters and numbers. (Eg: 12313, abc123, 66route).
The plural version of a word are counted as a separate tag. Eg: Bottle and Bottles are two different tags.
Symbols, Space or punctuation marks are counted as tags.
New lines, carriage returns, tabs and any white space are excluded.
When the application completes processing it writes to standard output the top 10 tag list (neatly formatted) 
sorted in descending order based on number of occurrences.
The application accepts multiple connections on port specified (as a command line parameter, -p). 
When the connection is made, the application prints the top 10 tag list (line by line) sorted in descending 
order based on the number of occurrences and closes the connection immediately.

4. Architecture:

TagStatsApp application consists of several components working together in a multi-threaded, non-blocking, asynchronous way achieved using "Actor" pattern and few interfaces.

Interfaces:
- TagStat is an interface of components gathering tags and providing top stats.
- TagParser is an interface of components parsing streams into tags.
- FileParser is an interface of components parsing files.

Abstract classes:
- Actor is a base abstract class of all asynchronous components, encapsulates message queue and multi-threaded execution details
- SingleThreadService is a base abstract class of manageable services running in the single dedicated thread, encapsulates stop/start execution details

Components:
- TagStatsApp acts as a main entry point and all components assembler.
- TagStatsSet maintains in-memory doubly-linked ordered list of tags and current top10 stats.
- TagStatsActor encapsulates TagStatsSet and process all inserts using long queue and single thread to avoid synchronization of concurrent inserts inside TagStatsSet.
- GenericTagParser parses stream of characters into tags and updates TagStatsSet on the go.
- TagParserActor encapsulates GenericTagParser and processes streams using multiple-threads and short queue to avoid keeping them open too long.
- FileParserActor encapsulates TagParserActor and acts as a proxy responsible of queueing and opening files before they reach the TagParserActor.
- DirectoryWatchService observes base directory and notifies FileParserActor about new files to parse.
- NonBlockingServer serves at dedicated network socket top10 stats obtained from TagStatsSet.

5. Repository and build

Code source available at https://github.com/arturopala/tag-statistic.git

Application is build and tested using standard maven commands: mvn clean install
More info: http://maven.apache.org/guides/getting-started/index.html




